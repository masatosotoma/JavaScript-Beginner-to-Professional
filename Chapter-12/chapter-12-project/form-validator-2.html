<!DOCTYPE html>
<html>
  <head>
    <title>Form Validator #2</title>
    <style>
      .hide {
        display: none;
      }
      .error {
        color: red;
        font-size: 0.8em;
        font-family: sans-serif;
        font-style: italic;
      }
      input {
        border-color: #ddd;
        width: 400px;
        display: block;
        font-size: 1.5em;
      }
    </style>
  </head>
  <body>
    <form name="myform">
      Email:<input type="text" name="email" /> <span class="error hide"></span
      ><br />
      Password:<input type="password" name="password" />
      <span class="error hide"></span> <br />
      User Name:<input type="text" name="userName" />
      <span class="error hide"></span>
      <br />
      <input type="submit" value="Sign Up" />
    </form>
    <script>
      /*select all the page elements and set them as JavaScript objects so they are easier to select within the code.*/

      let myForm = document.querySelector("form");
      let inputs = document.querySelectorAll("input");
      //Also select all the page elements that have the error class as an object.
      let errors = document.querySelectorAll(".error");
      let required = ["email", "userName"];

      console.log(myForm);
      console.log(inputs);
      console.log(errors);
      console.log(required);

      //Add an event listener to submit and capture the click, preventing the default form action.
      myForm.addEventListener("submit", captureClick);

      function captureClick(e) {
        let data = {};
        e.preventDefault();

        /*Loop through all the page elements that have a class error and add the hide class, which will remove them from view since this is a new submission.*/
        errors.forEach((e) => {
          e.classList.add("hide");
        });
        let error = false;
        inputs.forEach(function (el) {
          let tempName = el.getAttribute("name");
          if(tempName != null){
            el.style.borderColor = "#ddd"
            if(el.value.length == 0 && required.includes(tempName));
            error = true;
            console.log(error);
            console.log(tempName);
          }
        });
      //Using the regular expression for valid emails, test the results against the input value of the email field.
        if(tempName == "email"){
          let expression = /[A-Za-z0-9]+$/;
        }
        //   }

        //   if (tempName == "password") {
        //     //Check the password field input value to ensure only letters and numbers are used
        //     let exp = /[A-Za-z0-9]+$/;
        //     let result = exp.test(el.value);
        //   }
        //   /*If there is an error that an input does not match the desired regex,
        //       pass the parameters to the error handling function you just created.*/
        //   if (el.value.length == 0 && require.includes(tempName))
        //     /*Create a function to respond to errors,
        //   which removes the hide class from the element next to the element that triggered the event.
        //   Apply focus to that element within the function*/
        //     function respondError(el, message, fieldName) {
        //       let temp = el.nextElementSibling;
        //       temp.classList.remove("hide");
        //       el.focus();
        //     }
      }
    </script>
  </body>
</html>
